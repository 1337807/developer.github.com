$(function(){function e(){$.getJSON("/assets/search-index.json",function(e){h=e.pages,localStorage.searchIndex=JSON.stringify(h),localStorage.updated=(new Date).getTime()})}function s(){return(new Date).getTime()-parseInt(localStorage.updated,10)>864e5?!0:!1}function t(){$("#searchfield").val(""),$("#search-container").removeClass("active")}function a(e){f=[],e=e.toLowerCase();for(var s=0;s<h.length;s++){var t=h[s];-1!==t.title.toLowerCase().indexOf(e)&&f.push(t)}i(e)}function i(e){if($("#search-results").empty(),f.length<1)return void $('<li class="placeholder">No results for <em></em></li>').appendTo("#search-results").find("em").text(e);for(var s=0;s<Math.min(f.length,8);s++){var t=f[s];$('<li class="result"><a href="'+t.url+'"><em>'+t.title+"</em><small>"+t.section+"</small></a></li>").appendTo("#search-results")}$("#search-results li:first-child").addClass("selected")}function n(){$prev=$("#search-results .selected").prev(),$prev.length<1||($("#search-results .selected").removeClass("selected"),$prev.addClass("selected"))}function l(){$next=$("#search-results .selected").next(),$next.length<1||($("#search-results .selected").removeClass("selected"),$next.addClass("selected"))}function r(){var e=$("#search-results .selected a").attr("href");e&&(window.location.href=e)}var c,o=$("#js-sidebar .js-topic"),d=!0,u=function(){var e=/\/\/[^\/]+(\/.+)/g,s=e.exec(window.location.toString());s&&$("#js-sidebar .js-topic a").each(function(){$(this).parent("li").hasClass("disable")&&$(this).parent("li").removeClass("disable");var e=$(this).attr("href").toString(),t=s[1];if(e.indexOf(t)>=0&&e.length==t.length){$(this).parent("li").addClass("disable");var a=$(this).parentsUntil("div.sidebar-module > ul").last();a.addClass("js-current"),a.find(".js-expand-btn").toggleClass("collapsed expanded")}})};$("#js-sidebar .js-accordion-list .js-topic a[href*=#]").bind("click",function(e){-1==window.location.toString().indexOf($(e.target).attr("href"))&&setTimeout(u,0)}),$("body.api")&&window.location&&u(),$("#js-sidebar .js-topic").each(function(){0!=$(this).find(".disable").length&&0!=d||1==$(this).hasClass("js-current")?(c=$(this).index(),d=!1):$(this).find(".js-guides").children().hide()}),$("#js-sidebar .js-toggle-list .js-expand-btn").click(function(){var e=$(this).parents(".js-topic"),s=e.find(".js-guides li");return $(this).toggleClass("collapsed expanded"),s.slideToggle(100),!1}),$("#js-sidebar .js-accordion-list .js-topic h3 a").click(function(){var e=$(this).parents(".js-topic"),s=e.find(".js-guides li");return c!=e.index()?(o.eq(c)&&o.eq(c).find(".js-guides li").slideToggle(100),c=e.index(),s.slideToggle(100)):(c=void 0,s.slideToggle(100)),!1}),$(".help-search .search-box").focus(function(){$(this).css("background-position","0px -25px")}),$(".help-search .search-box").focusout(function(){""==$(this).val()&&$(this).css("background-position","0px 0px")}),$.getJSON("https://status.github.com/api/status.json?callback=?",function(e){if(e){var s=$("<a>").attr("href","https://status.github.com").addClass(e.status).attr("title","API Status: "+e.status+". Click for details.").text("API Status: "+e.status);$(".api-status").html(s)}});var h,f;localStorage.searchIndex?(h=JSON.parse(localStorage.searchIndex),s()&&e()):e(),$("#searchfield").val().length>0&&($("#search-container").addClass("active"),a($("#searchfield").val())),$("#searchfield").on("input",function(e){$(this).val().length>0?$("#search-container").addClass("active"):$("#search-container").removeClass("active"),a($(this).val())}),$("body").keyup(function(e){if(83==e.keyCode){if($("#searchfield").is(":focus"))return;e.preventDefault(),$("#searchfield").focus()}}),$("#searchfield").keyup(function(e){27==e.keyCode?(e.preventDefault(),$("#searchfield").val().length>0?t():$("#searchfield").blur()):13==e.keyCode?(e.preventDefault(),r()):(8==e.keyCode||46==e.keyCode)&&($(this).val().length>0?$("#search-container").addClass("active"):$("#search-container").removeClass("active"),a($(this).val()))}).keydown(function(e){38==e.keyCode?(e.preventDefault(),n()):40==e.keyCode?(e.preventDefault(),l()):27==e.keyCode&&e.preventDefault()}),$("#search-container .search-placeholder").click(function(e){$("#searchfield").focus()}),$(".cancel-search").click(function(e){t()}),$("#search-results").on("mouseenter","li",function(e){$(this).parent().find(".selected").removeClass("selected").end().end().addClass("selected")}),$(".dev-program").length&&setTimeout(function(){$(".earth").fadeOut(),$(".earth-short-loop").show()},19e3);var p;$("ol img").each(function(e,s){return $(s).parent().prepend(s)}),$(document).on("click","ol img",function(e){var s,t;return p(),t=$(e.currentTarget).clone(),s=$('<div class="js-full-image full-image"><span class="octicon octicon-remove-close"></span></div>').prepend(t),$(this).closest("li").append(s),$(document).on("click",".js-full-image",function(){return p(),!1})}),p=function(){return $(document).off("click",".js-full-image",p),$(".js-full-image").remove()}});